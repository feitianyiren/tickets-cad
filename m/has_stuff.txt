<?php
	require_once('./incs/sp_socket2me.inc.php');		// 5/24/2013 befor  end  head
?>
		<TABLE STYLE = "display:block;"><TR ID = 'has_form_row' STYLE = "display:block;"><TD ALIGN=CENTER><SPAN ID = "has_span" >
			<FORM NAME = 'has_form' METHOD = post ACTION = "javascript: void(0)">
			<INPUT TYPE = 'text' NAME = 'has_text' ID = 'has_text' CLASS = '' size=90 value = "" STYLE = "margin-left:6px;" placeholder="enter your broadcast message" />
			<BUTTON VALUE="Send" onclick = "has_check ( this.form.has_text.value.trim() )" STYLE = "margin-left:16px;">Send</BUTTON>
			<BUTTON VALUE="Cancel" onclick = "can_has ();" STYLE = "margin-left:24px;">Cancel</BUTTON>
			</FORM></SPAN></TD></TR>
		<TR ID = 'has_message_row' STYLE = "display: none;">
			<TD ALIGN=CENTER>				
				<SPAN ID = "msg_span" STYLE = "margin-left:50px; " >
					<SPAN ID = "has_message_text"></SPAN>
					<BUTTON VALUE="OK" onclick = "end_message_show();"  STYLE = "margin-left:20px">OK</BUTTON>
				</SPAN>			
			</TD>
			</TR></TABLE>


		function can_has () {							// cancel HAS function - return to normal display
			$("has_form_row").style.display = "none";
			show_normal();								// show buttons		
			}
			
		function end_message_show() {
			setTimeout(function(){
				$("has_message_row").style.display = $("has_form_row").style.display = "none";
				$("has_form_row").style.display = "none";
				show_normal();								// show buttons			
				}, 1000);			// end setTimeout()
			}					// end function

		function do_broadcast () {
			hide_normal();								// hide buttons
			$("has_form_row").style.display = "inline-block";
			$("has_message_row").style.display = "none";
			document.has_form.has_text.focus()
			}

		function has_check(inStr) {
			if (inStr.trim().length == 0) { alert("Value required - try again."); return;}
			else { 
				var msg =  $("whom").innerHTML + " sends: " + inStr.trim(); 	// identify sender				
				broadcast(msg); 				// send it
				setTimeout(function(){
					CngClass("has_text", "heading");
					document.has_form.has_text.value = "              Sent!";		// note spaces
					setTimeout(function(){ 
						document.has_form.has_text.value = "";
						$("has_form_row").style.display = "none";		// hide the form row
						CngClass("has_text", "");
						show_normal();										// back to normal
						}, 3000);				
					}, 1000);
				}		// end else{}
			}		// end function has_check()		

		function hide_has_message_row() {
			$("msg_span").style.display = "none";
			show_normal();								// show buttons		
			}

		function show_has_message(in_message) {						// called on incoming
			hide_normal();											// make room
			$("has_message_text").innerHTML = in_message;			// the message text
			CngClass("has_message_text", "heading");
			$("has_message_row").style.display = "inline-block";	// include button
			}

<!-- <button onclick = "show_has_message('asasasasas ERERERERER ')">Test</button> -->
